<!DOCTYPE html>
<html lang='en'>
<head>
<script>window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","errorBeacon":"bam.nr-data.net","licenseKey":"caff0d62ed","applicationID":"29451451","transactionName":"IQ1XRUEOVV1dFxlRXAEXSlRATkpZVxI=","queueTime":0,"applicationTime":151,"agent":""}</script>
<script>window.NREUM||(NREUM={}),__nr_require=function(e,n,t){function r(t){if(!n[t]){var o=n[t]={exports:{}};e[t][0].call(o.exports,function(n){var o=e[t][1][n];return r(o||n)},o,o.exports)}return n[t].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<t.length;o++)r(t[o]);return r}({1:[function(e,n,t){function r(){}function o(e,n,t){return function(){return i(e,[c.now()].concat(u(arguments)),n?null:this,t),n?void 0:this}}var i=e("handle"),a=e(3),u=e(4),f=e("ee").get("tracer"),c=e("loader"),s=NREUM;"undefined"==typeof window.newrelic&&(newrelic=s);var p=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],d="api-",l=d+"ixn-";a(p,function(e,n){s[n]=o(d+n,!0,"api")}),s.addPageAction=o(d+"addPageAction",!0),s.setCurrentRouteName=o(d+"routeName",!0),n.exports=newrelic,s.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(e,n){var t={},r=this,o="function"==typeof n;return i(l+"tracer",[c.now(),e,t],r),function(){if(f.emit((o?"":"no-")+"fn-start",[c.now(),r,o],t),o)try{return n.apply(this,arguments)}catch(e){throw f.emit("fn-err",[arguments,this,e],t),e}finally{f.emit("fn-end",[c.now()],t)}}}};a("actionText,setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(e,n){m[n]=o(l+n)}),newrelic.noticeError=function(e,n){"string"==typeof e&&(e=new Error(e)),i("err",[e,c.now(),!1,n])}},{}],2:[function(e,n,t){function r(e,n){if(!o)return!1;if(e!==o)return!1;if(!n)return!0;if(!i)return!1;for(var t=i.split("."),r=n.split("."),a=0;a<r.length;a++)if(r[a]!==t[a])return!1;return!0}var o=null,i=null,a=/Version\/(\S+)\s+Safari/;if(navigator.userAgent){var u=navigator.userAgent,f=u.match(a);f&&u.indexOf("Chrome")===-1&&u.indexOf("Chromium")===-1&&(o="Safari",i=f[1])}n.exports={agent:o,version:i,match:r}},{}],3:[function(e,n,t){function r(e,n){var t=[],r="",i=0;for(r in e)o.call(e,r)&&(t[i]=n(r,e[r]),i+=1);return t}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],4:[function(e,n,t){function r(e,n,t){n||(n=0),"undefined"==typeof t&&(t=e?e.length:0);for(var r=-1,o=t-n||0,i=Array(o<0?0:o);++r<o;)i[r]=e[n+r];return i}n.exports=r},{}],5:[function(e,n,t){n.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(e,n,t){function r(){}function o(e){function n(e){return e&&e instanceof r?e:e?f(e,u,i):i()}function t(t,r,o,i){if(!d.aborted||i){e&&e(t,r,o);for(var a=n(o),u=v(t),f=u.length,c=0;c<f;c++)u[c].apply(a,r);var p=s[y[t]];return p&&p.push([b,t,r,a]),a}}function l(e,n){h[e]=v(e).concat(n)}function m(e,n){var t=h[e];if(t)for(var r=0;r<t.length;r++)t[r]===n&&t.splice(r,1)}function v(e){return h[e]||[]}function g(e){return p[e]=p[e]||o(t)}function w(e,n){c(e,function(e,t){n=n||"feature",y[t]=n,n in s||(s[n]=[])})}var h={},y={},b={on:l,addEventListener:l,removeEventListener:m,emit:t,get:g,listeners:v,context:n,buffer:w,abort:a,aborted:!1};return b}function i(){return new r}function a(){(s.api||s.feature)&&(d.aborted=!0,s=d.backlog={})}var u="nr@context",f=e("gos"),c=e(3),s={},p={},d=n.exports=o();d.backlog=s},{}],gos:[function(e,n,t){function r(e,n,t){if(o.call(e,n))return e[n];var r=t();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[n]=r,r}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],handle:[function(e,n,t){function r(e,n,t,r){o.buffer([e],r),o.emit(e,n,t)}var o=e("ee").get("handle");n.exports=r,r.ee=o},{}],id:[function(e,n,t){function r(e){var n=typeof e;return!e||"object"!==n&&"function"!==n?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i="nr@id",a=e("gos");n.exports=r},{}],loader:[function(e,n,t){function r(){if(!E++){var e=x.info=NREUM.info,n=l.getElementsByTagName("script")[0];if(setTimeout(s.abort,3e4),!(e&&e.licenseKey&&e.applicationID&&n))return s.abort();c(y,function(n,t){e[n]||(e[n]=t)}),f("mark",["onload",a()+x.offset],null,"api");var t=l.createElement("script");t.src="https://"+e.agent,n.parentNode.insertBefore(t,n)}}function o(){"complete"===l.readyState&&i()}function i(){f("mark",["domContent",a()+x.offset],null,"api")}function a(){return O.exists&&performance.now?Math.round(performance.now()):(u=Math.max((new Date).getTime(),u))-x.offset}var u=(new Date).getTime(),f=e("handle"),c=e(3),s=e("ee"),p=e(2),d=window,l=d.document,m="addEventListener",v="attachEvent",g=d.XMLHttpRequest,w=g&&g.prototype;NREUM.o={ST:setTimeout,SI:d.setImmediate,CT:clearTimeout,XHR:g,REQ:d.Request,EV:d.Event,PR:d.Promise,MO:d.MutationObserver};var h=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1123.min.js"},b=g&&w&&w[m]&&!/CriOS/.test(navigator.userAgent),x=n.exports={offset:u,now:a,origin:h,features:{},xhrWrappable:b,userAgent:p};e(1),l[m]?(l[m]("DOMContentLoaded",i,!1),d[m]("load",r,!1)):(l[v]("onreadystatechange",o),d[v]("onload",r)),f("mark",["firstbyte",u],null,"api");var E=0,O=e(5)},{}]},{},["loader"]);</script>
<script src="https://cdn.qwiklabs.com/assets/error_reporting-eab3108e7c027a9f2c80f632ccd1f6e48c6075dfb8330451ddf84893b14a1825.js"></script>
<meta content='[]' name='active-experiments'>
<meta content='{&quot;userId&quot;:1642017}' name='help-api-product-data'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="SFdjHi16/mBn+la2Dlz33Cl9vjsJ5BwlIiOw3YmbltiPBSbRhU25+Jb2WgiZ4zgZi4ePHPBv5wSAA+/Pt5xCjg==" />
<title>Big Data &amp;amp; ML Fundamentals Lab 4: Recommendations ML with Dataproc v1.3 | Qwiklabs</title>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=0' name='viewport'>
<meta content='In this lab you use Dataproc to train the recommendations machine learning model based on users’ previous ratings. You then apply that model to create a list of recommendations for every user in the database.' name='description'>
<meta content='Qwiklabs' name='author'>
<meta property="og:url" content="https://www.qwiklabs.com/focuses/16384?locale=en" /><link href="https://www.qwiklabs.com/focuses/16384?locale=en" rel="canonical" />
<meta content='1rRsY0INj8RvwB5EF5pwdxt2A2P9aDgAlsICaJ0d5w0' name='google-site-verification'>
<meta content='Big Data &amp;amp; ML Fundamentals Lab 4: Recommendations ML with Dataproc v1.3 | Qwiklabs' property='og:title'>
<meta content='website' property='og:type'>
<meta content='/favicon-144.png' property='og:image'>
<meta content='Qwiklabs' property='og:site_name'>
<meta content='In this lab you use Dataproc to train the recommendations machine learning model based on users’ previous ratings. You then apply that model to create a list of recommendations for every user in the database.' property='og:description'>
<meta content='/qwiklabs_logo_900x887.png' property='og:logo' size='900x887'>
<meta content='/qwiklabs_logo_994x187.png' property='og:logo' size='994x187'>
<meta content='#3681E4' property='msapplication-TileColor'>
<meta content='/favicon-144.png' property='msapplication-TileImage'>
<link href='/favicon-32.png' rel='shortcut icon'>
<link color='#3681E4' href='/favicon-svg.svg' rel='mask-icon'>
<link href='/favicon-180.png' rel='apple-touch-icon-precomposed'>
<link rel="stylesheet" media="screen" href="https://fonts.googleapis.com/css?family=Oswald:400|Roboto+Mono:400,700|Roboto:300,400,500,700|Google+Sans:300,400,500,700|Google+Sans+Display:400|Material+Icons" />


<!--[if lt IE 9]>
<script src='http://html5shim.googlecode.com/svn/trunk/html5.js' type='text/javascript'></script>
<![endif]-->
<!--[endif]>  <![endif]-->
<script>
//<![CDATA[
window.gon={};gon.current_user={"firstname":"Shaw","lastname":"Lu","fullname":"Shaw Lu","company":"Coursera","email":"shaw.lu@nyu.edu","origin":"googlecoursera-run, lti-coursera","subscriptions":0,"id":"58e40025c3c387f8f47a3666ad6fb38d","qlCreatedAt":"2019-05-07 01:27:38 UTC","optIn":null};gon.segment="j4Im8pqIko0Lxq4wVVZWMPMM0EroHUvb";gon.deployment="googlecoursera-run";
//]]>
</script>
<script type='application/ld+json'>
{
  "@context": "http://schema.org",
  "@type": "WebSite",
  "url": "https://www.qwiklabs.com/",
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://www.qwiklabs.com/catalog?keywords={search_term_string}",
    "query-input": "required name=search_term_string"
  }
}
</script>



<link rel="stylesheet" media="all" href="https://cdn.qwiklabs.com/assets/application-92d58a9a5df4407f208006539ecbffe9f7873eb7c1c40ae12cd9745af923abc7.css" />
<script>
  EVENT_SOURCE_BASE_URL = "https://googlecoursera-run.qwiklabs.com/nchan-sub?id=";
</script>
<script src="https://cdn.qwiklabs.com/polyfills/webcomponents-loader.js"></script>
<script src="https://cdn.qwiklabs.com/assets/hallofmirrors/hallofmirrors-3acde9ad9287d8ce9d1e78731ceed2e628ba0534a0c1094b4e1cbac09a6a6114.js"></script>
<script src="https://www.youtube.com/iframe_api"></script>
<script src="https://cdn.qwiklabs.com/assets/vendor-6de3ede8df1048f09413b5f8f2bbc2ab451ddfee2e5f7b5791e46671f41b8019.js"></script>
<script src="https://cdn.qwiklabs.com/assets/application-4f043533e70f69106ace797ca64673252233c460bf6cc27cdf677e0b3a8cbb46.js"></script>
<script>
  var errorHandler = new StackdriverErrorReporter();
  errorHandler.start({
    key: 'AIzaSyCkrYBqwUuCqHbHVq02MVHfoXq80yws4eg',
    projectId: 'qwiklabs-website-prod'
  })
</script>
</head>
<body class='is-open focuses focuses-show lab-show l-full no-nav '>
<div class='header-container'>
<div class='header'>
<a class='mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect header__button header__button--nav header__side-menu-button js-side-menu-button'>
<i class='material-icons'>menu</i>
</a>
<div class='header__title'>
<a class="mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect header__button header__button--nav" href="https://www.coursera.org/learn/gcp-big-data-ml-fundamentals/gradedLti/Xiep6/recommendations-ml-with-dataproc"><i class="material-icons">arrow_back</i></a>

<h1 class='headline-5'>
Big Data &amp; ML Fundamentals Lab 4: Recommendations ML with Dataproc v1.3
</h1>
</div>
<div class='header__actions'>
<a class='mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect header__button header__button--action header__button--search js-header-search-bar-button'>
<i class='material-icons'>search</i>
</a>

<ql-help context="lab" productdata="{&quot;userId&quot;:1642017}"></ql-help>
<a class='header-my-account-button mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect js-my-account-button'>
<img class="avatar " src="https://secure.gravatar.com/avatar/a77acba602f000e3b70692d5025955e1.png?s=80&amp;d=mm" />
</a>
<div class='header-my-account-menu js-my-account-menu'>
<div class='card elevation-2 no-padding'>
<div class='my-account-menu__top'>
<img class="avatar " src="https://secure.gravatar.com/avatar/a77acba602f000e3b70692d5025955e1.png?s=80&amp;d=mm" />
<div class='my-account-menu__info'>
<h4 class='subtitle-headline-1'>
Shaw Lu
</h4>
<p class='body-2 text--gray'>
<span>shaw.lu@nyu.edu</span>
</p>
<a class="button" href="/my_account/profile">My Account</a>
</div>
</div>
<div class='my-account-menu__bottom'>
<a class="text--green subtitle-headline-2" href="/my_account/credits">2362 Credits
</a><a class="button button--hairline" rel="nofollow" data-method="delete" href="/users/sign_out">Sign out</a>
</div>
</div>
</div>

</div>
</div>
</div>
<div class='header__search-bar js-header-search-bar'>
<form id="catalog-search-mobile" onsubmit="ql.catalogSearchFilter(); return false;" action="/searches/elasticsearch" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="6Mm82g4e8HX3YiTvdbkA8P6/HysyreAuav57XWy3Xt4vm/kVpim37QZuKFHiBs81XEUuDMsmGw/I3iRPUrCKiA==" />
<input type="text" name="keywords" id="keywords" placeholder="Search" />
</form>

<a class='mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect header__button'>
<i class='material-icons'>close</i>
</a>
</div>

<nav class='is-open js-side-menu side-menu'>
<div class='side-menu__inner' style='min-height: 346px;'>
<nav class='side-menu__nav'>
<a title="Home" class="side-menu__item js-navigation-button" href="/"><div class='side-menu__item__icon'>
<ql-icon>home</ql-icon>
</div>
<div class='side-menu__item__label'>
Home
</div>
</a>
<a title="Catalog" class="side-menu__item js-navigation-button" href="/catalog"><div class='side-menu__item__icon'>
<ql-icon>school</ql-icon>
</div>
<div class='side-menu__item__label'>
Catalog
</div>
</a>
<a title="My Learning" class="side-menu__item js-navigation-button" href="/my_learning"><div class='side-menu__item__icon'>
<ql-icon>event_note</ql-icon>
</div>
<div class='side-menu__item__label'>
My Learning
</div>
</a>
</nav>
<div class='side-menu__small-links js-small-links'>
<a href="/privacy_policy">Privacy</a>
<a href="/terms_of_service">Terms of Service</a>
</div>
</div>
</nav>

<main class='js-main'>
<span class='hidden' id='flash-sibling-before'></span>

<div class='l-main-wrapper'>







<div class='js-lab-state' data-analytics-payload='{&quot;label&quot;:&quot;Big Data \u0026 ML Fundamentals Lab 4: Recommendations ML with Dataproc v1.3&quot;,&quot;lab_name&quot;:&quot;Big Data \u0026 ML Fundamentals Lab 4: Recommendations ML with Dataproc v1.3&quot;,&quot;classroom_name&quot;:null,&quot;deployment&quot;:&quot;googlecoursera-run&quot;}' data-focus-id='16384' data-lab-billing-limit='0.0' data-lab-duration='5400' data-parent='classroom'></div>
<ql-new-lab-control-panel class='js-lab-control-panel l-lab-control-panel' connectionDetails='[]' connectionFiles='[]' labControlButton='{&quot;disabled&quot;:false,&quot;pending&quot;:false,&quot;running&quot;:false}' labTimer='{&quot;ticking&quot;:false,&quot;secondsRemaining&quot;:5400,&quot;seconds_remaining&quot;:5400}' studentResources='[]'></ql-new-lab-control-panel>

<div class='l-lab-main-body'>
<div class='js-lab-content lab-content'>
<div class='alert alert--fake js-alert'>
<p class='alert__message js-alert-message'></p>
<a class='alert__close js-alert-close'>
<i class='fa fa-times'></i>
</a>
<iframe class='l-ie-iframe-fix'></iframe>
</div>
<div class='lab-content__markdown-wrapper'>
<div class='lab-preamble'>
<h1 class='lab-preamble__title'>
Big Data &amp; ML Fundamentals Lab 4: Recommendations ML with Dataproc v1.3
</h1>
<div class='lab-preamble__details subtitle-headline-1'>
<span>1 hour 30 minutes</span>
<span>1 Credit</span>
<div class='lab__rating'>
<a href="/focuses/16384/reviews?parent=catalog"><div class='rateit' data-rateit-readonly='true' data-rateit-value='3.5698'></div>

</a><a data-target='#lab-review-modal' data-toggle='modal'>
Rate Lab
</a>
</div>
</div>
</div>

<div class='lab-content__inner-wrapper'>
<div class='js-markdown-instructions lab-content__markdown markdown-lab-instructions' id='markdown-lab-instructions'>



<h2 id="step1">Overview</h2>
<p>In this lab, you carry out recommendations machine learning using Dataproc.</p>
<h3>What you learn</h3>
<p>In this lab, you will:</p>
<ul>
<li>
<p>Launch Dataproc</p>
</li>
<li>
<p>Run SparkML jobs using Dataproc</p>
</li>
</ul>
<h2 id="step2">Introduction</h2>
<p>In this lab, you use Dataproc to train the recommendations machine learning model based on users' previous ratings. You then apply that model to create a list of recommendations for every user in the database.</p>
<p>In this lab, you will:</p>
<ul>
<li>Launch Dataproc</li>
<li>Train and apply ML model written in PySpark to create product recommendations</li>
<li>Explore inserted rows in Cloud SQL</li>
</ul>
<h4>What you'll need</h4>
<p>To complete this lab, you’ll need:</p>
<ul>
<li>
<p>Access to a standard internet browser (Chrome browser recommended).</p>
</li>
<li>
<p>Time. Note the lab’s <strong>Completion</strong> time in Qwiklabs. This is an estimate of the time it should take to complete all steps.  Plan your schedule so you have time to complete the lab. Once you start the lab, you will not be able to pause and return later (you begin at step 1 every time you start a lab).</p>
</li>
<li>
<p>The lab's <strong>Access</strong> time is how long your lab resources will be available. If you finish your lab with access time still available, you will be able to explore the Google Cloud Platform or work on any section of the lab that was marked "if you have time". Once the Access time runs out, your lab will end and all resources will terminate.</p>
</li>
<li>
<p>You <strong>DO NOT</strong> need a Google Cloud Platform account or project. An account, project and associated resources are provided to you as part of this lab.</p>
</li>
<li>
<p>If you already have your own GCP account, make sure you do not use it for this lab.</p>
</li>
<li>
<p>If your lab prompts you to log into the console, <strong>use only the student account provided to you by the lab</strong>. This prevents you from incurring charges for lab activities in your personal GCP account.</p>
</li>
</ul>
<h4>Start your lab</h4>
<p>When you are ready, click <strong>Start Lab</strong>. You can track your lab’s progress with the status bar at the top of your screen.</p>
<aside>
<strong>Important</strong> What is happening during this time?
  Your lab is spinning up GCP resources for you behind the scenes, including an account, a project, resources within the project, and permission for you to control the resources needed to run the lab. This means that instead of spending time manually setting up a project and building resources from scratch as part of your lab, you can begin learning more quickly.

</aside>
<h4>Find Your Lab’s GCP Username and Password</h4>
<p>To access the resources and console for this lab, locate the Connection Details panel in Qwiklabs.  Here you will find the account ID and password for the account you will use to log in to the Google Cloud Platform:</p>
<p><img alt="Open Google Console" src="https://cdn.qwiklabs.com/Xq7gN%2BbO2%2FSfanAquKnvggu45xczKUb%2FdqCDGmOWqvw%3D"></p>
<p>If your lab provides other resource identifiers or connection-related information, it will appear on this panel as well.</p>

<h2 id="step3">Setup</h2>
<h3>Activate Google Cloud Shell</h3>
<p>Google Cloud Shell provides command-line access to your GCP resources.</p>
<p>From the GCP Console click the <strong>Cloud Shell</strong> icon on the top right toolbar:</p>
<p><img alt="Cloud Shell Icon" src="https://cdn.qwiklabs.com/cYAp3uDlYsYcFFNsWmNqW64O9RNumGO5gWDR4GEjkIo%3D"></p>
<p>Then click <strong>START CLOUD SHELL</strong>:</p>
<p><img alt="Start Cloud Shell" src="https://cdn.qwiklabs.com/%2FrXqdLSk9t%2BseADznDVQNk7Xozp6sXtutHyrPmXDOxM%3D"></p>
<aside>
You can click <strong>START CLOUD SHELL</strong> immediately when the dialog comes up instead of waiting in the dialog until the Cloud Shell provisions.

</aside>
<p>It  takes a few moments to provision and connects to the environment:</p>
<p><img alt="Cloud Shell Terminal" src="https://cdn.qwiklabs.com/Ed7y6PTP1vFZDz%2FYJdRWZlhQHKh%2BHV0VUqoXM5BQwZQ%3D"></p>
<p>The Cloud Shell is a virtual machine loaded with all the development tools you’ll need. It offers a persistent 5GB home directory, and runs on the Google Cloud, greatly enhancing network performance and authentication.</p>
<p>Once connected to the cloud shell, you'll see that you are already authenticated and  the project is set to your <em>PROJECT_ID</em>:</p>
<pre><code>gcloud auth list&#x000A;</code></pre>
<p>Output:</p>
<pre><code class="language-output prettyprint">Credentialed accounts:&#x000A; - &lt;myaccount&gt;@&lt;mydomain&gt;.com (active)&#x000A;</code></pre>
<aside>
<strong>Note:</strong> <code>gcloud</code> is the powerful and unified command-line tool for Google Cloud Platform. Full documentation is available on <a href="https://cloud.google.com/sdk/gcloud">Google Cloud gcloud Overview</a>. It comes pre-installed on Cloud Shell and supports tab-completion.

</aside>
<pre><code>gcloud config list project&#x000A;</code></pre>
<p>Output:</p>
<pre><code class="language-output prettyprint">[core]&#x000A;project = &lt;PROJECT_ID&gt;&#x000A;</code></pre>

<h2 id="step4">Task 1: Create Assets</h2>
<p>We start by cloning the code repository, creating a storage bucket in the GCP project and stage some files. These steps are similar to what you did in the previous lab.</p>
<ol>
<li>
<p>In Cloud Shell, clone the repo using the following command:</p>
<pre><code>git clone https://github.com/GoogleCloudPlatform/training-data-analyst&#x000A;</code></pre>
<p>This downloads the code from github.</p>
</li>
<li>
<p>Navigate to the folder corresponding to this lab:</p>
<pre><code>cd training-data-analyst/CPB100/lab3a&#x000A;</code></pre>
</li>
<li>
<p>In the GCP Console, on the <strong>Navigation menu</strong> (<img alt="mainmenu.png" src="https://cdn.qwiklabs.com/QRLlvUpflhvp875q7fi7Mf%2FiVCqtMcM10Vfn0vwKZ%2B4%3D">), click <strong>Storage</strong>.</p>
</li>
<li>
<p>Click  <strong>Create bucket</strong>.</p>
</li>
<li>
<p>For <strong>Name</strong>, enter your <strong>Project ID</strong>. Select <strong>Set object-level and bucket-level permissions</strong> under <strong>Access control model</strong>, then click <strong>Create</strong>. To find your <strong>Project ID</strong>, click the project in the top menu of the GCP Console and copy the value under <strong>ID</strong> for your selected project.</p>
</li>
<li>
<p>Finally, stage the table definition and data files into Cloud Storage, so that you can later import them into Cloud SQL from Cloud Shell within the lab3a directory by typing the following, replacing <code>&lt;BUCKET-NAME&gt;</code> with the name of the bucket you just created:</p>
<pre><code>gsutil cp cloudsql/* gs://&lt;BUCKET-NAME&gt;/sql/&#x000A;</code></pre>
</li>
<li>
<p>From the GCP console, go to Storage, navigate to your bucket and verify that the <code>.sql</code> and <code>.csv</code> files now exist on Cloud Storage.</p>
</li>
</ol>
<p>Click Check my progress to verify the objective.
<ql-activity-tracking step="1">
Create assets (bucket)
</ql-activity-tracking></p>
<h2 id="step5">Task 2: Create Cloud SQL instance</h2>
<p>To create Cloud SQL instance:</p>
<ol>
<li>
<p>In the GCP Console, on the <strong>Navigation menu</strong> (<img alt="mainmenu.png" src="https://cdn.qwiklabs.com/QRLlvUpflhvp875q7fi7Mf%2FiVCqtMcM10Vfn0vwKZ%2B4%3D">), click <strong>SQL</strong> (in the Storage section).</p>
</li>
<li>
<p>Click <strong>Create Instance</strong>.</p>
</li>
<li>
<p>Choose <strong>MySQL</strong>. Click <strong>Next</strong> if required.</p>
</li>
<li>
<p>For <strong>Instance ID</strong>, type <strong>rentals</strong>.</p>
<p><img alt="ab1cdf08212ecadf.png" src="https://cdn.qwiklabs.com/4enBBCqiOP%2FMoylbsMJSGz%2Fddg%2BmLbJ1r7xOyokmf6Y%3D"></p>
</li>
<li>
<p>Scroll down and specify a root password.  Before you forget, note down the root password (please don't do this in real-life!).</p>
</li>
<li>
<p>For <strong>Zone</strong> select <strong>us-central1-a</strong>.</p>
</li>
<li>
<p>Scroll down and click <strong>Set Connectivity</strong> or Click <strong>Show configuration options</strong> first (if required), then click <strong>Authorize networks</strong> &gt; <strong>+Add network</strong>.</p>
<p><img alt="ad40ddbc1cfc0a81.png" src="https://cdn.qwiklabs.com/kufFR7%2BOQql4UQQiJxR3rR17C58ser9P44SMa2Jf%2B8c%3D"></p>
</li>
<li>
<p>In Cloud Shell, make sure you're in the <strong>lab3a</strong> directory and find your IP address by typing:</p>
<pre><code>bash ./find_my_ip.sh&#x000A;</code></pre>
</li>
<li>
<p>In the <strong>Add Network</strong> dialog, enter an optional <strong>Name</strong> and enter the <strong>IP address</strong> output in the previous step. Click <strong>Done</strong>.</p>
<p><img alt="54d82efbc516bceb.png" src="https://cdn.qwiklabs.com/8pfph71%2FUpkQk0dRw4oz33lo0REhzKCAQZTGZfIP7j0%3D"></p>
</li>
</ol>
<aside class="warning"><p>
<strong>Note</strong>: If you lose your Cloud Shell VM due to inactivity, you will have to reauthorize your new Cloud Shell VM with Cloud SQL. For your convenience, lab3a includes a script called <strong>authorize_cloudshell.sh</strong> that you can run.
  </p>
</aside>
<ol start="10">
<li>
<p>Click <strong>Create</strong> to create the instance. It will take a minute or so for your Cloud SQL instance to be provisioned.</p>
</li>
<li>
<p>Note down the <strong>Public IP address</strong> of your Cloud SQL instance (from the browser window).</p>
</li>
</ol>
<h2 id="step6">Task 3: Create and populate tables</h2>
<p>To import table definitions from Cloud Storage:</p>
<ol>
<li>
<p>Click <strong>rentals</strong> to view details about your Cloud SQL instance.</p>
</li>
<li>
<p>Click <strong>Import</strong>.</p>
</li>
<li>
<p>Click <strong>Browse</strong>. This will bring up a list of buckets. Click on the bucket you created, then navigate into <strong>sql</strong>, click <strong>table_creation.sql</strong>, then click <strong>Select</strong>.</p>
</li>
<li>
<p>Click <strong>Import</strong>.</p>
</li>
</ol>
<aside class="warning"><p>
<strong>Note</strong>: If <code>.sql</code> or <code>.csv</code> files import fails in first attempt, try again.
  </p>
</aside>
<ol start="5">
<li>
<p>Next, to import CSV files from Cloud Storage, click <strong>Import</strong>.</p>
</li>
<li>
<p>Click <strong>Browse</strong>, navigate into <strong>sql</strong>, click <strong>accommodation.csv</strong>, then click <strong>Select</strong>.</p>
</li>
<li>
<p>Fill out the rest of the dialog as follows:</p>
<p>For <strong>Database</strong>, select <strong>recommendation_spark</strong></p>
<p>For <strong>Table</strong>, type <strong>Accommodation</strong></p>
<p><img alt="c899adb7fdb39f17.png" src="https://cdn.qwiklabs.com/NBc%2Fs5qK1oT3%2BQJ70N2PwcO8PDAwKNY71DtsdCCBmGk%3D"></p>
</li>
<li>
<p>Click <strong>Import</strong>.</p>
</li>
<li>
<p>Repeat the Import process (steps 5 - 8) for <strong>rating.csv</strong>, but for <strong>Table</strong>, type <strong>Rating</strong>.</p>
</li>
</ol>
<p>Click Check my progress to verify the objective.
<ql-activity-tracking step="2">
Create Cloud SQL instance and populate tables
</ql-activity-tracking></p>
<h2 id="step7">Task 4: Launch Dataproc</h2>
<p>To launch Dataproc and configure it so that each of the machines in the cluster can access Cloud SQL:</p>
<ol>
<li>
<p>In the GCP Console, on the <strong>Navigation menu</strong>  (<img alt="mainmenu.png" src="https://cdn.qwiklabs.com/QRLlvUpflhvp875q7fi7Mf%2FiVCqtMcM10Vfn0vwKZ%2B4%3D">), click <strong>SQL</strong> and note the region of your Cloud SQL instance:</p>
<p><img alt="fc8f254ae64a75b4.png" src="https://cdn.qwiklabs.com/rruQxE8GWYDTbXn5pREQ02XbkgvaVI4j9%2FVjjQj7Suk%3D"></p>
<p>In the above snapshot, the region is <code>us-central1</code>.</p>
</li>
<li>
<p>In the GCP Console, on the <strong>Navigation menu</strong> (<img alt="mainmenu.png" src="https://cdn.qwiklabs.com/QRLlvUpflhvp875q7fi7Mf%2FiVCqtMcM10Vfn0vwKZ%2B4%3D">), click <strong>Dataproc</strong> and click <strong>Enable API</strong> if prompted. Once enabled, click <strong>Create cluster</strong>.</p>
</li>
<li>
<p>Leave the <strong>Region</strong> as it is i.e. <strong>global</strong> and change the <strong>Zone</strong> to <strong>us-central1-a</strong> (in the same zone as your Cloud SQL instance). This will minimize network latency between the cluster and the database.</p>
</li>
<li>
<p>For <strong>Master node</strong>, for <strong>Machine type</strong>, select <strong>2 vCPU (n1-standard-2)</strong>.</p>
</li>
<li>
<p>For <strong>Worker nodes</strong>, for <strong>Machine type</strong>, select <strong>2 vCPU (n1-standard-2)</strong>.</p>
</li>
<li>
<p>Leave all other values with their default and click <strong>Create</strong>.  It will take 1-2 minutes to provision your cluster.</p>
</li>
<li>
<p>Note the <strong>Name</strong>, <strong>Zone</strong> and <strong>Total worker nodes</strong> in your cluster.</p>
</li>
<li>
<p>In Cloud Shell, navigate to the folder corresponding to this lab and authorize all the Dataproc nodes to be able to access your Cloud SQL instance, replacing <code>&lt;Cluster-Name&gt;</code>, <code>&lt;Zone&gt;</code>, and <code>&lt;Total-Worker-Nodes&gt;</code> with the values you noted in the previous step:</p>
<pre><code>cd ~/training-data-analyst/CPB100/lab3b&#x000A;bash authorize_dataproc.sh &lt;Cluster-Name&gt; &lt;Zone&gt; &lt;Total-Worker-Nodes&gt;&#x000A;</code></pre>
<p>When prompted, type <strong>Y</strong>, then <strong>Enter</strong> to continue.</p>
</li>
</ol>
<p>Click Check my progress to verify the objective.
<ql-activity-tracking step="3">
Launch Dataproc
</ql-activity-tracking></p>
<h2 id="step8">Task 5: Run ML model</h2>
<p>To create a trained model and apply it to all the users in the system:</p>
<ol>
<li>
<p>Edit the model training file using <code>nano</code>:</p>
<pre><code>nano sparkml/train_and_apply.py&#x000A;</code></pre>
</li>
<li>
<p>Change the fields marked #CHANGE at the top of the file (scroll down using the down arrow key) to match your Cloud SQL setup (see earlier parts of this lab where you noted these down), and save the file using <strong>Ctrl+O</strong> then press <strong>Enter</strong>, and then press <strong>Ctrl+X</strong> to exit from the file.</p>
</li>
<li>
<p>Copy this file to your Cloud Storage bucket using:</p>
<pre><code>gsutil cp sparkml/tr*.py gs://&lt;bucket-name&gt;/&#x000A;</code></pre>
</li>
<li>
<p>In the <strong>Dataproc</strong> console, click <strong>Jobs</strong>.</p>
<p><img alt="8508ce301ff584c3.png" src="https://cdn.qwiklabs.com/0RE2gN9iSXVkU9rk9kQQCVKuw961N%2B32AODddKBRMdM%3D"></p>
</li>
<li>
<p>Click <strong>Submit job</strong>.</p>
</li>
<li>
<p>For <strong>Job type</strong>, select <strong>PySpark</strong> and for <strong>Main python file</strong>, specify the location of the Python file you uploaded to your bucket.</p>
<p><img alt="e15bafe2c29956b5.png" src="https://cdn.qwiklabs.com/ZXUqBAvJllcO09HWGJTJeYw%2FgimAj%2B%2BoU%2FGwmaHJHU0%3D"></p>
<p><code>gs://&lt;bucket-name&gt;/train_and_apply.py</code></p>
</li>
<li>
<p>Click <strong>Submit</strong> and wait for the job Status to change from <code>Running</code> (this will take up to 5 minutes) to <code>Succeeded</code>.</p>
<p><img alt="af55e2a91617b1d5.png" src="https://cdn.qwiklabs.com/COfyRabqDP7A%2B2P9Fq4zxL4XVNzKFXDfjClWwVaC%2BGw%3D"></p>
<p>If the job <code>Failed</code>, please troubleshoot using the logs and fix the errors. You may need to re-upload the changed Python file to Cloud Storage and clone the failed job to resubmit.</p>
</li>
</ol>
<p>Click Check my progress to verify the objective.
<ql-activity-tracking step="4">
Run ML model
</ql-activity-tracking></p>
<h2 id="step9">Task 6: Explore inserted rows</h2>
<ol>
<li>
<p>In the GCP Console, on the <strong>Navigation menu</strong>  (<img alt="mainmenu.png" src="https://cdn.qwiklabs.com/QRLlvUpflhvp875q7fi7Mf%2FiVCqtMcM10Vfn0vwKZ%2B4%3D">), click <strong>SQL</strong> (in the Storage section).</p>
</li>
<li>
<p>Click <strong>rentals</strong> to view details related to your Cloud SQL instance.</p>
</li>
<li>
<p>Under <strong>Connect to this instance</strong> section, click <strong>Connect using Cloud Shell</strong>. This will start new Cloudshell tab. In Cloudshell tab press <strong>Enter</strong>.</p>
<p>It will take few minutes to whitelist your IP for incoming connection.</p>
</li>
<li>
<p>When prompted, type the root password you configured, then <strong>Enter</strong>.</p>
</li>
<li>
<p>At the mysql prompt, type:</p>
<pre><code>use recommendation_spark;&#x000A;</code></pre>
<p>This sets the database in the mysql session.</p>
</li>
<li>
<p>Find the recommendations for some user:</p>
<pre><code>select r.userid, r.accoid, r.prediction, a.title, a.location, a.price, a.rooms, a.rating, a.type from Recommendation as r, Accommodation as a where r.accoid = a.id and r.userid = 10;&#x000A;</code></pre>
<p>These are the five accommodations that we would recommend to her. Note that the quality of the recommendations are not great because our dataset was so small (note that the predicted ratings are not very high). Still, this lab illustrates the process you'd go through to create product recommendations.</p>
<h2 id="step10">End your lab</h2>
<p>When you have completed your lab, click <strong>End Lab</strong>. Qwiklabs removes the resources you’ve used and cleans the account for you.</p>
<p>You will be given an opportunity to rate the lab experience. Select the applicable number of stars, type a comment, and then click <strong>Submit</strong>.</p>
<p>The number of stars indicates the following:</p>
<ul>
<li>1 star = Very dissatisfied</li>
<li>2 stars = Dissatisfied</li>
<li>3 stars = Neutral</li>
<li>4 stars = Satisfied</li>
<li>5 stars = Very satisfied</li>
</ul>
<p>You can close the dialog box if you don't want to provide feedback.</p>
<p>For feedback, suggestions, or corrections, please use the <strong>Support</strong> tab.</p>

<p>Last Manual Updated Date: 2019-04-12</p>
<p>Last Tested Date: 2019-04-12</p>
<p>©2019 Google LLC All rights reserved. Google and the Google logo are trademarks of Google LLC. All other company and product names may be trademarks of the respective companies with which they are associated.</p>

</li>
</ol>


</div>
<div class='js-lab-content-outline lab-content__outline'>
<a href='#step1'>Overview</a><a href='#step2'>Introduction</a><a href='#step3'>Setup</a><a href='#step4'>Task 1: Create Assets</a><a href='#step5'>Task 2: Create Cloud SQL instance</a><a href='#step6'>Task 3: Create and populate tables</a><a href='#step7'>Task 4: Launch Dataproc</a><a href='#step8'>Task 5: Run ML model</a><a href='#step9'>Task 6: Explore inserted rows</a><a href='#step10'>End your lab</a>
</div>
</div>

</div>


</div>
</div>
<div class='lab-assessment__tab js-lab-assessment-tab'>
<h5 class='small-label'>
Score
</h5>
<h3 class='js-lab-assessment-total-score'>
&mdash;/20
</h3>
<iframe class='l-ie-iframe-fix'></iframe>
</div>
<div class='lab-assessment__panel js-lab-assessment-panel'>
<!-- / If lab_instance has is started and assessment is generated, use -->
<!-- / lab_instance.assessment, otherwise use lab.assessment_manual -->
<div class='lab-assessment__step'>
<p class='lab-assessment__step__title'>
Create assets (bucket)
</p>
<p class='button button--assessment js-show-run-step-button' step_no='1'>
Run Step
</p>
<p class='lab-assessment__step__score'>
<span class='js-assessment-step-score-1'>
</span>
/ 5
</p>
</div>

<div class='lab-assessment__step'>
<p class='lab-assessment__step__title'>
Create Cloud SQL instance and populate tables
</p>
<p class='button button--assessment js-show-run-step-button' step_no='2'>
Run Step
</p>
<p class='lab-assessment__step__score'>
<span class='js-assessment-step-score-2'>
</span>
/ 5
</p>
</div>

<div class='lab-assessment__step'>
<p class='lab-assessment__step__title'>
Launch Dataproc
</p>
<p class='button button--assessment js-show-run-step-button' step_no='3'>
Run Step
</p>
<p class='lab-assessment__step__score'>
<span class='js-assessment-step-score-3'>
</span>
/ 5
</p>
</div>

<div class='lab-assessment__step'>
<p class='lab-assessment__step__title'>
Run ML model
</p>
<p class='button button--assessment js-show-run-step-button' step_no='4'>
Run Step
</p>
<p class='lab-assessment__step__score'>
<span class='js-assessment-step-score-4'>
</span>
/ 5
</p>
</div>

<iframe class='l-ie-iframe-fix'></iframe>
</div>
<div class='lab-introduction js-lab-introduction is-hidden'>
<div class='lab-introduction__inner'>
<h1 class='headline-1'>Welcome to Your First Lab!</h1>
<div class='lab-introduction__video'>
<iframe allow='autoplay; encrypted-media' frameborder='0' id='lab-introduction' src='https://www.youtube.com/embed/yF7EDXKTmoQ?enablejsapi=1&amp;rel=0&amp;showinfo=0'></iframe>
</div>
<a class='button js-skip-button'>Skip</a>
</div>
</div>


</div>
</main>
<div class='bottom-menu'>
<a title="Home" class="side-menu__item js-navigation-button active" aria-current="page" href="/"><div class='side-menu__item__icon'>
<ql-icon>home</ql-icon>
</div>
<div class='side-menu__item__label'>
Home
</div>
</a>
<a title="Catalog" class="side-menu__item js-navigation-button" href="/catalog"><div class='side-menu__item__icon'>
<ql-icon>school</ql-icon>
</div>
<div class='side-menu__item__label'>
Catalog
</div>
</a>
<a title="My Learning" class="side-menu__item js-navigation-button" href="/my_learning"><div class='side-menu__item__icon'>
<ql-icon>event_note</ql-icon>
</div>
<div class='side-menu__item__label'>
My Learning
</div>
</a>
<a class='side-menu__item js-side-menu-button'>
<div class='side-menu__item__icon'>
<i class='material-icons'>menu</i>
</div>
<span class='side-menu__item__tooltip'>More</span>
<div class='side-menu__item__label'>
More
</div>
</a>
</div>

<div class='modal fade' id='support-modal'>
<div class='modal-container'>
<div class='mdl-shadow--24dp modal-content'>
<h4 class='modal-header'>How can we help you?</h4>
<form action="/contact_support" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="IiCpbQn408lTgezht0Y6ruTF4Nw7SscFgtmQmALVjXLlcuyioc+UUaKN4F8g+fVrRj/R+8LBPCQg+c+KPNJZJA==" />
<div class='modal-body'>
<p class='l-mbl'>We will get back to you within 24 hours.</p>
<div class='form-row'>
<div class='control-group'>
<label for="Question">Question</label>
<input type="text" name="question" id="question" placeholder="Briefly describe your question" />
</div>
</div>
<div class='form-row'>
<div class='control-group'>
<label for="Details">Details</label>
<textarea name="description" id="description" rows="5" placeholder="Fill in the details here. Please try to be as specific as possible.&#x000A;">
</textarea>
</div>
</div>
<div class='form-row'>
<div class='control-group'>
<label for="Your_Name">Your name</label>
<input type="text" name="name" id="name" value="Shaw Lu" />
</div>
<div class='control-group'>
<label for="Your_Email">Your email</label>
<input type="text" name="email" id="email" value="shaw.lu@nyu.edu" />
</div>
</div>
</div>
<div class='modal-actions'>
<a class='mdl-button mdl-button--cancel mdl-js-button mdl-js-ripple-effect l-mll' data-dismiss='modal'>
Nevermind
</a>
<input type="submit" name="commit" value="Submit" class="mdl-button mdl-button--primary mdl-js-button mdl-js-ripple-effect" data-disable-with="Submit" />
</div>
</form>



</div>
</div>
<iframe class='l-ie-iframe-fix'></iframe>
</div>
<div class='modal fade' id='lab-help-modal'>
<div class='modal-container'>
<div class='mdl-shadow--24dp modal-content'>
<h4 class='modal-header'>Get Help</h4>
<form action="/contact_support" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="hV1B43/0a9GIv7YqMGUxYHRSUO1E1TNoSuqx8J5wN+xCDwQs18MsSXmzupSn2v6l1qhhyr1eyEnoyu7ioHfjug==" />
<div class='modal-body'>
<div class='control-group l-mbl'>
<label for="Question">Question</label>
<input type="text" name="question" id="question" placeholder="Briefly describe your question" />
</div>
<div class='control-group l-mbl'>
<label for="Details">Details</label>
<textarea name="description" id="description" rows="5" placeholder="Fill in the details here. Please try to be as specific as possible.&#x000A;">
</textarea>
</div>
<div class='control-group l-mbl'>
<label for="Your_Name">Your name</label>
<input type="text" name="name" id="name" value="Shaw Lu" />
</div>
<div class='control-group l-mbl'>
<label for="Your_Email">Your email</label>
<input type="text" name="email" id="email" value="shaw.lu@nyu.edu" />
</div>
<div class='control-group l-mbl'>
<label for="Severity">Severity</label>
<select name="severity" id="severity"><option value="0">-</option>
<option value="severity_1">Severity 1 (Highest)</option>
<option value="severity_2">Severity 2</option>
<option value="severity_3">Severity 3</option>
<option value="severity_4">Severity 4</option>
<option value="severity_5">Severity 5 (Lowest)</option></select>
</div>
<div class='control-group'>
<div class='control-label'></div>
We will get back to you within 24 hours.
</div>
</div>
<div class='modal-actions'>
<a class='mdl-button mdl-button--primary mdl-js-button mdl-js-ripple-effect' data-dismiss='modal'>
Cancel
</a>
<input type="submit" name="commit" value="Submit" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--primary" data-disable-with="Submit" />
</div>
</form>



</div>
</div>
<iframe class='l-ie-iframe-fix'></iframe>
</div>
<div class='modal fade' id='lab-details-modal'>
<div class='modal-container'>
<div class='mdl-shadow--24dp modal-content'>
<div class='modal-body'>
<p class='l-mbm'>
In this lab you use Dataproc to train the recommendations machine learning model based on users’ previous ratings. You then apply that model to create a list of recommendations for every user in the database.
</p>
<p class='small-label l-mbs'>
<strong>
Duration:
</strong>
0m setup
&middot;
90m access
&middot;
90m completion
</p>
<p class='small-label l-mbs'>
<span><strong>Levels: </strong>introductory</span>
</p>
<p class='small-label'>
<strong>
Permalink:
</strong>
<a href="https://googlecoursera.qwiklabs.com/catalog_lab/990">https://googlecoursera.qwiklabs.com/catalog_lab/990</a>
</p>
</div>
<div class='modal-actions'>
<a class='mdl-button mdl-button--primary mdl-js-button mdl-js-ripple-effect' data-dismiss='modal'>
Got It
</a>
</div>


</div>
</div>
<iframe class='l-ie-iframe-fix'></iframe>
</div>
<div class='modal fade' id='lab-review-modal'>
<div class='modal-container'>
<div class='mdl-shadow--24dp modal-content'>
<form class="simple_form js-lab-review-form" id="new_lab_review" action="/lab_reviews" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='modal-body'>
<p class='label'>
How satisfied are you with this lab?
</p>
<div class='rateit js-rateit' data-rateit-max='5' data-rateit-min='0' data-rateit-resetable='false' data-rateit-step='1' data-rateit-value='0'></div>
<div class='l-mtm'>

<div class="control-group hidden lab_review_user_id"><div class="controls"><input class="hidden" type="hidden" value="1642017" name="lab_review[user_id]" id="lab_review_user_id" /></div></div>
<div class="control-group hidden lab_review_classroom_id"><div class="controls"><input class="hidden" type="hidden" value="1937" name="lab_review[classroom_id]" id="lab_review_classroom_id" /></div></div>
<div class="control-group hidden lab_review_lab_id"><div class="controls"><input class="hidden" type="hidden" value="990" name="lab_review[lab_id]" id="lab_review_lab_id" /></div></div>
<div class="control-group hidden lab_review_focus_id"><div class="controls"><input class="hidden" type="hidden" value="16384" name="lab_review[focus_id]" id="lab_review_focus_id" /></div></div>
<div class="control-group hidden lab_review_rating"><div class="controls"><input class="hidden js-rating-input" type="hidden" name="lab_review[rating]" id="lab_review_rating" /></div></div>
<div class="control-group text optional lab_review_comment"><label class="text optional control-label" for="lab_review_comment">Comment</label><div class="controls"><textarea class="text optional" name="lab_review[comment]" id="lab_review_comment">
</textarea></div></div>
</div>
</div>
<div class='modal-actions'>
<a class='mdl-button mdl-button--primary mdl-js-button mdl-js-ripple-effect' data-dismiss='modal'>
Cancel
</a>
<input type="submit" name="commit" value="Submit" class="btn mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--primary" data-disable-with="Submit" />
</div>
</form>

</div>
</div>
<iframe class='l-ie-iframe-fix'></iframe>
</div>

<script>
  $( function() {
    ql.initMaterialInputs();
    initChosen();
    initSearch();
    initTabs();
    ql.list.init();
    ql.favoriting.init();
    ql.header.myAccount.init();
    initTooltips();
    ql.autocomplete.init();
    ql.modals.init();
    initLabContent( );
  ql.labOutline.links.init("16384");
  ql.labOutline.layout.init();
  initLabReviewModal();
  initLabAssessment();
  ql.labIntroduction.init( true );
  ql.labData.init();
  initLabTranslations( {"are_you_sure":"All done? If you end this lab, you will lose all your work. You may not be able to restart the lab if there is a quota limit. Are you sure you want to end this lab?\n","in_progress":"*In Progress*","ending":"*Ending*","starting":"*Starting, please wait*","end_concurrent_labs":"Sorry, you can only run one lab at a time. To start this lab, please confirm that you want all of your existing labs to end.\n","copied":"Copied","no_resource":"Error retrieving resource.","no_support":"No Support","mac_press":"Press ⌘-C to copy","thanks_review":"Thanks for reviewing this lab.","windows_press":"Press Ctrl-C to copy","days":"days"} );
  initLabRun();
  ql.initHeader();
  ql.sideMenu.init();
  ql.navigation.init();
  
  });
</script>
<style>
  .mdl-layout__container {
    position: static
  }
</style>
</body>
</html>
